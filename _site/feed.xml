<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>DV Dasari</title>
    <description></description>
    <link>http://dasari.me/</link>
    <atom:link href="http://dasari.me/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 03 Jun 2016 23:55:38 -0500</pubDate>
    <lastBuildDate>Fri, 03 Jun 2016 23:55:38 -0500</lastBuildDate>
    <generator>Jekyll v3.1.6</generator>
    
      <item>
        <title>How to keep your forked repository in sync with the upstream repository</title>
        <description>&lt;p&gt;Assuming that you forked a repository and cloned it on your local machine&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;To list the current remote repository for your fork:&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git remote -v
origin	https://github.com/dv2/rails.git (fetch)
origin	https://github.com/dv2/rails.git (push)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;Specify a new remote upstream repository that will be synced with the fork&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git remote add upstream https://github.com/rails/rails.git
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;To verify the upstream repo&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git remote -v
origin		https://github.com/dv2/rails.git (fetch)
origin		https://github.com/dv2/rails.git (push)
upstream	https://github.com/rails/rails.git (fetch)
upstream	https://github.com/rails/rails.git (push)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;To sync local master with upstream master&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git pull --rebase upstream master
git push -f origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;To sync local branch &lt;code class=&quot;highlighter-rouge&quot;&gt;branch_name&lt;/code&gt; with upstream master&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git pull --rebase upstream master
git push -f origin branch_name
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;To sync local branch with upstream &lt;code class=&quot;highlighter-rouge&quot;&gt;branch_name&lt;/code&gt; (other than master)&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git pull --rebase upstream branch_name
git push -f origin branch_name
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 03 Jun 2016 19:35:03 -0500</pubDate>
        <link>http://dasari.me/2016/06/03/keep-your-forked-repository-in-sync-with-upstream-repository.html</link>
        <guid isPermaLink="true">http://dasari.me/2016/06/03/keep-your-forked-repository-in-sync-with-upstream-repository.html</guid>
        
        
      </item>
    
      <item>
        <title>Sphinx and Thinking Sphinx commands</title>
        <description>&lt;p&gt;&lt;img src=&quot;/assets/sphinx.png&quot; alt=&quot;Sphinx&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For installing Sphinx and setting up Thinking Sphinx for a Ruby on Rails project, go to this link: &lt;a href=&quot;http://pat.github.io/thinking-sphinx/&quot;&gt;http://pat.github.io/thinking-sphinx/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Basic commands to start, stop and index sphinx&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rake ts:stop
rake ts:index
rake ts:start
rake ts:rebuild (stops, re-index and start)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Other options&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rake ts:index generates the configuration file every time
# if you do not want to create the configuration file
# run the below
INDEX_ONLY=true rake ts:index

# to generate the configuration file without indexing
rake ts:configure
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Querying options&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# To query a specific model
query = “Ruby on Rails”
articles = Article.search(query)
posts = Post.search(query)
books = Book.search(query)

# To query all the models
tss = ThinkingSphinx.search(query)

# Sphinx paginates search results by default.
# And returns 20 results by default
articles = Article.search(query)
articles.size          (returns 20 by default)
articles.total_entries (returns total entries in the search)

# You can request more results by passing the limit to search
articles = Article.search(query, per_page: 200)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;There might be a situation where we want to re-index just one index. There is not a way to do it via ThinkingSphinx. rake ts:index will reindex all the indexes in the app/indices directory. This can be done via Sphinx’s indexer tool.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;indexer article_core --rotate
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Other helpful command line tools&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dump index header by index name
indextool --dumpheader article_core
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The sphinx commands like &lt;code class=&quot;highlighter-rouge&quot;&gt;indexer&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;indextool&lt;/code&gt; look for a config file in &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/sphinxsearch/sphinx.conf&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;./sphinx.conf&lt;/code&gt;. It would be easy to create a sym link in the root path&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ln -s PATH-TO/production.sphinx.conf ./sphinx.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 17 Apr 2015 19:35:03 -0500</pubDate>
        <link>http://dasari.me/2015/04/17/sphinx-and-thinking-sphinx-commands.html</link>
        <guid isPermaLink="true">http://dasari.me/2015/04/17/sphinx-and-thinking-sphinx-commands.html</guid>
        
        
      </item>
    
      <item>
        <title>Replacing MySQL with MariaDB on OS X for a Ruby on Rails App</title>
        <description>&lt;p&gt;First uninstall MySQL.&lt;/p&gt;

&lt;p&gt;If you have installed it using brew, you uninstall as below
&lt;code class=&quot;highlighter-rouge&quot;&gt;$ brew uninstall mysql&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Next install mariadb
&lt;code class=&quot;highlighter-rouge&quot;&gt;$ brew install mariadb&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;That is all it takes to install MariaDB&lt;/p&gt;

&lt;p&gt;However, after this, starting my rails server gave me the below error&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Incorrect MySQL client library version! This gem was compiled for 5.6.19 but the client library is 10.0.15-MariaDB. (RuntimeError)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This is how I fixed this error to make the Rails app work with MariaDB&lt;/p&gt;

&lt;p&gt;From the root of the rails application&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gem uninstall mysql2
$ gem install mysql2 -v=’0.3.17&#39; -- --with-mysql-config=/usr/local/Cellar/mariadb/10.0.15/bin/mysql_config
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 08 Jan 2015 18:35:03 -0600</pubDate>
        <link>http://dasari.me/2015/01/08/replacing-mysql-with-mariadb-on-osx-for-a-ruby-on-rails-app.html</link>
        <guid isPermaLink="true">http://dasari.me/2015/01/08/replacing-mysql-with-mariadb-on-osx-for-a-ruby-on-rails-app.html</guid>
        
        
      </item>
    
      <item>
        <title>Install latest version of gcc on Mac OS X</title>
        <description>&lt;p&gt;&lt;strong&gt;Mac OS X Yosemite Version 10.10.1&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Updating gcc on Mac OS X can be very tricky. The current version of gcc on my mac was &lt;code class=&quot;highlighter-rouge&quot;&gt;4.2.1&lt;/code&gt;. I used homebrew to install the latest version &lt;code class=&quot;highlighter-rouge&quot;&gt;brew install gcc&lt;/code&gt;, which installed &lt;code class=&quot;highlighter-rouge&quot;&gt;4.9.2&lt;/code&gt;, but checking &lt;code class=&quot;highlighter-rouge&quot;&gt;gcc —version&lt;/code&gt; still showed &lt;code class=&quot;highlighter-rouge&quot;&gt;4.2.1&lt;/code&gt;. I followed instructions from a couple of blog posts to get the system point to &lt;code class=&quot;highlighter-rouge&quot;&gt;4.9.2&lt;/code&gt; but they did not seam to be successful.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gcc --version
Configured with: —prefix=/Applications/Xcode.app/Contents/Developer/usr —with-gxx-include-dir=/usr/include/c++/4.2.1
Apple LLVM version 6.0 (clang-600.0.56) (based on LLVM 3.5svn)
Target: x86_64-apple-darwin14.0.0
Thread model: posix
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;So I decided to manually install the latest version of gcc from gnu.org&lt;/p&gt;

&lt;p&gt;=&amp;gt; Visit: &lt;a href=&quot;https://gcc.gnu.org/mirrors.html&quot;&gt;https://gcc.gnu.org/mirrors.html&lt;/a&gt; and select a mirror &lt;br /&gt;
=&amp;gt; I picked: &lt;a href=&quot;http://mirrors-usa.go-parts.com/gcc/&quot;&gt;http://mirrors-usa.go-parts.com/gcc/&lt;/a&gt; &lt;br /&gt;
=&amp;gt; clicked on releases: &lt;a href=&quot;http://mirrors-usa.go-parts.com/gcc/releases/&quot;&gt;http://mirrors-usa.go-parts.com/gcc/releases/&lt;/a&gt; &lt;br /&gt;
=&amp;gt; selected &lt;a href=&quot;http://mirrors-usa.go-parts.com/gcc/releases/gcc-4.9.2/&quot;&gt;http://mirrors-usa.go-parts.com/gcc/releases/gcc-4.9.2/&lt;/a&gt; &lt;br /&gt;
=&amp;gt; downloaded gcc-4.9.2.tar.gz &lt;a href=&quot;http://mirrors-usa.go-parts.com/gcc/releases/gcc-4.9.2/&quot;&gt;http://mirrors-usa.go-parts.com/gcc/releases/gcc-4.9.2/&lt;/a&gt; &lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Open iTerm/Terminal and cd into the download and install (took me about 45 minutes)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd ~/Downloads/gcc-4.9.2
$ ./configure; make; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 19 Dec 2014 18:35:03 -0600</pubDate>
        <link>http://dasari.me/2014/12/19/install-latest-gcc-on-mac-os-x.html</link>
        <guid isPermaLink="true">http://dasari.me/2014/12/19/install-latest-gcc-on-mac-os-x.html</guid>
        
        
      </item>
    
      <item>
        <title>Docker Commands</title>
        <description>&lt;noscript&gt;&lt;pre&gt;1. Create new container  
   a) docker run -i -t ubuntu /bin/bash
   b) docker run --name rails_dev_container -i -t ubuntu ubuntu /bin/bash
   The command line flags - i -t provide an interactive shell in the new container

2. Show running docker containers    ==&amp;gt; docker ps

3. Show list of current containers   ==&amp;gt; 
   a) docker ps -a   (Show all containers, both stopped and running)
   b) docker ps -n x (shows the last x containers, running or stopped, ex: docker ps -n 5)

4. Show last container that was run (whether is is running or stopped)  ==&amp;gt; docker ps -l

5. List docker images               ==&amp;gt; docker images

6. Delete a container               
   a) docker rm &amp;lt;container_id&amp;gt;    (ex: docker rm aa3f365f0f4e)
   b) docker rm &amp;lt;container_name&amp;gt;  (ex: docker rm rails_dev_container)
   
7. Delete all containers            ==&amp;gt; docker rm $(docker ps -a -q)

8. Delete an image                  ==&amp;gt; docker rmi &amp;lt;image_id&amp;gt;

9. Delete all images                ==&amp;gt; docker rmi $(docker images -q)

Start a stopped container
  a) docker start &amp;lt;container_id&amp;gt;    (ex: docker start aa3f365f0f4e)
  b) docker start &amp;lt;container_name&amp;gt;  (ex: docker start rails_dev_container)
  
Attach to a container
  a) docker attach &amp;lt;container_id&amp;gt;   (ex: docker attach aa3f365f0f4e)
  b) docker attach &amp;lt;container_name&amp;gt; (ex: docker attach rails_dev_container)

Creating daemonized containers
  docker run --name daemon_container -d ubuntu /bin/sh -c &amp;quot;while true; do echo hello world; sleep 1; done&amp;quot;
  (-d flag detachs the container to the background)
  
To see what&amp;#39;s happening inside the container
  docker logs rails_dev_container
  docker logs -f rails_dev_container  (like the tail -f)
  docker logs -ft rails_dev_container (prefix log entries with timestamps)
  docker logs --tail 10 daemon_container  (get the last 10 lines of the log)
  docker logs --tail 0 -f daemon_container (follow the logs without having to read the whole log file)
 
Inspecting the container&amp;#39;s processes
  docker top daemon_container

Running a process inside a container
  a) Background 
     docker exec -d daemon_container touch /etc/new_config_file
  b) Interactive
     docker exec -t -i daemon_container /bin/bash

Stopping a daemonized container
  docker stop daemon_container
  or
  docker stop aa3f365f0f4e

Automatic container restarts
  docker run --restart=always --name daemon_container -d ubuntu /bin/sh -c &amp;quot;while true; do echo hello world; sleep 1; done&amp;quot;
  (docker will try to restart the container no matter what exit code is returned)
  --restart=on-failure:5 (this will attempt to restart the container a maximum of 5 times if a non-zero exit code is received)
  
Finding more about our container
  docker inspect daemon_container
  docker inspect --format=&amp;#39;{{ .State.Running }}&amp;#39; daemon_container
  docker inspect --format &amp;#39;{{ .HostnamePath }}&amp;#39; daemon_container
  docker inspect --format &amp;#39;{{ .Name }} {{ .HostnamePath }}&amp;#39; daemon_container
  list multiple containers
    docker inspect --format &amp;#39;{{ .Name }} {{ .HostnamePath }}&amp;#39; daemon_container dameon_cont_2

Pulling images
  docker pull ubuntu
  docker pull fedora
  docker pull fedora:21
  docker pull jamtur01/puppetmaster

Searching for images
  docker search puppet

Sign into the Docker Hub
  docker login
  
Using Docker commit to create images
  Create a container from the ubuntu image
    docker run -i -t ubuntu /bin/bash
  Install Apache into the container
    apt-get -yqq update
    apt-get -y install apache2
  exit from the container 
    docker commit 6b84282435f8 dvdoc/apache2
    or
    docker commit -m=&amp;quot;A new custom image&amp;quot; --author=&amp;quot;DV Suresh&amp;quot; \
    6b84282435f8 dvdoc/apache2:webserver
    
    




&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/dv2/439ce7c1814c2392c3bf.js&quot;&gt; &lt;/script&gt;

</description>
        <pubDate>Tue, 16 Dec 2014 18:35:03 -0600</pubDate>
        <link>http://dasari.me/2014/12/16/docker-commands.html</link>
        <guid isPermaLink="true">http://dasari.me/2014/12/16/docker-commands.html</guid>
        
        
      </item>
    
      <item>
        <title>Docker Resources</title>
        <description>&lt;p&gt;Fig — Getting started with Fig and Rails — &lt;a href=&quot;http://www.fig.sh/rails.html&quot;&gt;http://www.fig.sh/rails.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://allenan.com/docker-rails-dev-environment-for-osx/&quot;&gt;Rails Development environment for OS X using Docker&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.linuxjournal.com/content/docker-lightweight-linux-containers-consistent-development-and-deployment?page=0,2&quot;&gt;Lightweight Linux Containers for Consistent Development and Deployment&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Abe Voelker Blog — &lt;a href=&quot;https://blog.abevoelker.com&quot;&gt;https://blog.abevoelker.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.abevoelker.com/simple-free-continuous-integration-of-rails-docker-images-using-fig-make-and-circleci/&quot;&gt;Abe Voelker — Simple, free continuous integration (CI) of Rails Docker images using fig, make, and CircleCI&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.abevoelker.com/rails-development-using-docker-and-vagrant/&quot;&gt;Abe Voelker — Rails Development Using Docker and Vagrant&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://coderwall.com/p/sytp7a/docker-fig-rails-on-os-x&quot;&gt;Docker + Fig + Rails on OS X&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.whitesmith.co/blog/a-rails-development-environment-using-docker-through-fig/&quot;&gt;A Rails Development Environment Using Docker Through Fig&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.gemnasium.com/post/65599561888/rails-meets-docker&quot;&gt;Rails meets docker&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 16 Dec 2014 18:35:03 -0600</pubDate>
        <link>http://dasari.me/2014/12/16/docker-resources.html</link>
        <guid isPermaLink="true">http://dasari.me/2014/12/16/docker-resources.html</guid>
        
        
      </item>
    
      <item>
        <title>Problem uploading to Arduino board — avrdude: stk500_recv(): programmer is not responding</title>
        <description>&lt;p&gt;Model: Arduino Uno R3&lt;/p&gt;

&lt;p&gt;A new Arduino comes with a pre-programmed LED blink program. When the Arduino is plugged into your Mac via USB, the LED should flash on and off once a second.&lt;/p&gt;

&lt;p&gt;I was very excited to write some code and run it on the Arduino. I started with a change to the blink program and tried to upload. I got an error message at the bottom of the IDE.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Binary sketch size: 1,082 bytes (of a 32,256 byte maximum)
avrdude: stk500_recv(): programmer is not responding
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Screenshot:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://dasari.me/assets/arduino_error_screenshot.png&quot; alt=&quot;Error Screenshot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I did the usual “google the error message”. And read posts where I found that, resetting the Uno and reloading the program would work. So I did as suggested, but got the same error again.&lt;/p&gt;

&lt;p&gt;Then I went to the IDE Tool bar and tried to switch to different Serial Port and tried uploading the program. Finally selecting &lt;code class=&quot;highlighter-rouge&quot;&gt;/dev/tty.usbmodem1411&lt;/code&gt; did the trick.&lt;/p&gt;

&lt;p&gt;It worked!!!!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://dasari.me/assets/arduino_ide_toolbar.png&quot; alt=&quot;IDE Toolbar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Hopefully this post will save time for someone with the same error.&lt;/p&gt;
</description>
        <pubDate>Wed, 24 Sep 2014 19:35:03 -0500</pubDate>
        <link>http://dasari.me/2014/09/24/arduino-avrdude-stk500-recv-programmer-not-responding.html</link>
        <guid isPermaLink="true">http://dasari.me/2014/09/24/arduino-avrdude-stk500-recv-programmer-not-responding.html</guid>
        
        
      </item>
    
      <item>
        <title>Search across all git branches</title>
        <description>&lt;p&gt;I was looking for a way to search within all the git branches for some text and here is how I ended up doing that. I wrote a ruby program that I run inside the git repo.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gitsearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;rb&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;noscript&gt;&lt;pre&gt;# ruby gitsearch.rb

search_term = &amp;quot;elasticsearch&amp;quot;
file_types = &amp;quot;*.rb&amp;quot;

`echo &amp;quot;\n############################&amp;quot; &amp;gt;&amp;gt; search_results.txt`
`echo &amp;quot;Search Term: #{search_term}&amp;quot; &amp;gt;&amp;gt; search_results.txt`
`echo &amp;quot;File Types: #{file_types}&amp;quot; &amp;gt;&amp;gt; search_results.txt`
`echo &amp;quot;############################\n&amp;quot; &amp;gt;&amp;gt; search_results.txt`

git_branches = `git branch`.split
git_branches.delete(&amp;#39;*&amp;#39;)
git_branches.each_with_index do |branch_name, ind|
  puts &amp;quot;\n#{ind + 1 } branch_name: #{branch_name}&amp;quot;
  print `git grep -e #{search_term} #{branch_name} -- &amp;#39;#{file_types}&amp;#39;`
  `git grep -e #{search_term} #{branch_name} -- &amp;#39;#{file_types}&amp;#39; &amp;gt;&amp;gt; search_results.txt`
end
&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/dv2/ac6369d8653a2a7b3eca.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;Search results/output of the program is displayed in the terminal as well as written to the file ‘search_results.txt’&lt;/p&gt;

&lt;p&gt;Output in the file looks as below:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;############################
Search Term: elasticsearch
File Types: *.rb
############################
add_fulltext_search:config/initializers/tire.rb:log_file = Rails.root.join “log”, “elasticsearch_#{Rails.env}.log”
add_fulltext_search:spec/spec_helper.rb: puts “2. elasticsearch -f -D es.config=/usr/local/opt/elasticsearch/config/elasticsearch.yml “
calculate_estimates:config/initializers/tire.rb:log_file = Rails.root.join “log”, “elasticsearch_#{Rails.env}.log”
calculate_estimates:spec/spec_helper.rb: puts “2. elasticsearch -f -D es.config=/usr/local/opt/elasticsearch/config/elasticsearch.yml “
add_blog_posts:config/initializers/tire.rb:log_file = Rails.root.join “log”, “elasticsearch_#{Rails.env}.log”
add_blog_posts:spec/spec_helper.rb: puts “2. elasticsearch -f -D es.config=/usr/local/opt/elasticsearch/config/elasticsearch.yml “
add_blog_posts_refactor:config/initializers/tire.rb:log_file = Rails.root.join “log”, “elasticsearch_#{Rails.env}.log”
add_blog_posts_refactor:spec/spec_helper.rb: puts “2. elasticsearch -f -D es.config=/usr/local/opt/elasticsearch/config/elasticsearch.yml “
cron_jobs:config/initializers/tire.rb:log_file = Rails.root.join “log”, “elasticsearch_#{Rails.env}.log”
cron_jobs:spec/spec_helper.rb: puts “2. elasticsearch -f -D es.config=/usr/local/opt/elasticsearch/config/elasticsearch.yml “
download_buttons:config/initializers/tire.rb:log_file = Rails.root.join “log”, “elasticsearch_#{Rails.env}.log”
download_buttons:spec/spec_helper.rb: puts “2. elasticsearch -f -D es.config=/usr/local/opt/elasticsearch/config/elasticsearch.yml “

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Mon, 22 Sep 2014 19:35:03 -0500</pubDate>
        <link>http://dasari.me/2014/09/22/search-for-text-across-all-git-branches.html</link>
        <guid isPermaLink="true">http://dasari.me/2014/09/22/search-for-text-across-all-git-branches.html</guid>
        
        
      </item>
    
      <item>
        <title>Setting up Sphinx in a Ruby on Rails application</title>
        <description>&lt;p&gt;Thinking Sphinx — &lt;a href=&quot;http://pat.github.io/thinking-sphinx/&quot;&gt;http://pat.github.io/thinking-sphinx/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Installing Sphinx -  &lt;a href=&quot;http://pat.github.io/thinking-sphinx/installing_sphinx.html&quot;&gt;http://pat.github.io/thinking-sphinx/installing_sphinx.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Installing on MacOS X - &lt;a href=&quot;http://pat.github.io/thinking-sphinx/installing_sphinx/mac.html&quot;&gt;http://pat.github.io/thinking-sphinx/installing_sphinx/mac.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Using Homebrew: &lt;code class=&quot;highlighter-rouge&quot;&gt;brew install sphinx&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Add ‘thinking-sphinx’ to Gemfile - &lt;a href=&quot;https://github.com/pat/thinking-sphinx&quot;&gt;https://github.com/pat/thinking-sphinx&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;‘&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thinking&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sphinx&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;’&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;‘&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bundle&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Quick Start Quide — &lt;a href=&quot;http://pat.github.io/thinking-sphinx/quickstart.html&quot;&gt;http://pat.github.io/thinking-sphinx/quickstart.html&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;rake&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ts&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;rake&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ts&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Run&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sphinx&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;rake&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ts&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:rebuild&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rebuild&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indexes&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
        <pubDate>Tue, 16 Sep 2014 19:35:03 -0500</pubDate>
        <link>http://dasari.me/2014/09/16/setting-up-sphinx-in-ruby-on-rais-app.html</link>
        <guid isPermaLink="true">http://dasari.me/2014/09/16/setting-up-sphinx-in-ruby-on-rais-app.html</guid>
        
        
      </item>
    
      <item>
        <title>Setup Sidekiq in production using VLAD</title>
        <description>&lt;p&gt;Here is the official documentation for Sidekiq deployment 
 — &lt;a href=&quot;https://github.com/mperham/sidekiq/wiki/Deployment&quot;&gt;https://github.com/mperham/sidekiq/wiki/Deployment&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Add sidekiq to Gemfile&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;‘&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sidekiq&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;’&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;‘&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Create the file &lt;code class=&quot;highlighter-rouge&quot;&gt;config/initializers/sidekiq.rb&lt;/code&gt;&lt;/p&gt;
&lt;noscript&gt;&lt;pre&gt;if Rails.env.production?
  Sidekiq.configure_server do |config|
    config.redis = { :url =&amp;gt; &amp;#39;redis://10.0.WX.YZ:6379/12&amp;#39;, :namespace =&amp;gt; &amp;#39;sidekiq&amp;#39; }
  end

  Sidekiq.configure_client do |config|
    config.redis = { :url =&amp;gt; &amp;#39;redis://10.0.WX.YZ:6379/12&amp;#39;, :namespace =&amp;gt; &amp;#39;sidekiq&amp;#39; }
  end
end&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/dv2/6e1ea0e69d0050581fb8.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;Vlad &lt;code class=&quot;highlighter-rouge&quot;&gt;config/deploy.rb&lt;/code&gt;&lt;/p&gt;
&lt;noscript&gt;&lt;pre&gt;require &amp;#39;vlad/sidekiq&amp;#39;

task &amp;quot;vlad:deploy&amp;quot; =&amp;gt; %w[
  vlad:update
  vlad:bundle:install
  vlad:migrate
  vlad:assets:precompile
  vlad:sidekiq:restart
  vlad:start_app
  vlad:cleanup
]&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/dv2/7c4662583761baf11001.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;On the server create files&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/init/sidekiq.conf&lt;/code&gt;&lt;/p&gt;
&lt;noscript&gt;&lt;pre&gt;# /etc/init/sidekiq.conf - Sidekiq config

# This example config should work with Ubuntu 12.04+.  It
# allows you to manage multiple Sidekiq instances with
# Upstart, Ubuntu&amp;#39;s native service management tool.
#
# See workers.conf for how to manage all Sidekiq instances at once.
#
# Save this config as /etc/init/sidekiq.conf then mange sidekiq with:
#   sudo start sidekiq index=0
#   sudo stop sidekiq index=0
#   sudo status sidekiq index=0
#
# or use the service command:
#   sudo service sidekiq {start,stop,restart,status}
#

description &amp;quot;Sidekiq Background Worker&amp;quot;

# no &amp;quot;start on&amp;quot;, we don&amp;#39;t want to automatically start
stop on (stopping workers or runlevel [06])

# change to match your deployment user
setuid user_name
setgid user_name

respawn
respawn limit 3 30

# TERM is sent by sidekiqctl when stopping sidekiq.  Without declaring these as normal exit codes, it just respawns.
normal exit 0 TERM

instance $index

script
# this script runs in /bin/sh by default
# respawn as bash so we can source in rbenv
exec /bin/bash &amp;lt;&amp;lt;EOT
  # use syslog for logging
  exec &amp;amp;&amp;gt; /dev/kmsg

  # pull in system rbenv
  # export HOME=/home/deploy
  # source /etc/profile.d/rbenv.sh

  # cd /opt/theclymb/current
  cd /home/user_name/srv/current
  exec bin/sidekiq -i ${index} -e production
EOT
end script&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/dv2/7072761632fc88209dbc.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/init/workers.conf&lt;/code&gt;&lt;/p&gt;
&lt;noscript&gt;&lt;pre&gt;# /etc/init/workers.conf - manage a set of Sidekiqs

# This example config should work with Ubuntu 12.04+.  It
# allows you to manage multiple Sidekiq instances with
# Upstart, Ubuntu&amp;#39;s native service management tool.
#
# See sidekiq.conf for how to manage a single Sidekiq instance.
#
# Use &amp;quot;stop workers&amp;quot; to stop all Sidekiq instances.
# Use &amp;quot;start workers&amp;quot; to start all instances.
# Use &amp;quot;restart workers&amp;quot; to restart all instances.
# Crazy, right?
#

description &amp;quot;manages the set of sidekiq processes&amp;quot;

# This starts upon bootup and stops on shutdown
start on runlevel [2345]
stop on runlevel [06]

# Set this to the number of Sidekiq processes you want
# to run on this machine
env NUM_WORKERS=2

pre-start script
  for i in `seq 0 $((${NUM_WORKERS} - 1))`
  do
    start sidekiq index=$i
  done
end script&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/dv2/ed710898437287eef1df.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;To deploy: &lt;code class=&quot;highlighter-rouge&quot;&gt;bundle exec rake vlad:deploy&lt;/code&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 08 Sep 2014 19:35:03 -0500</pubDate>
        <link>http://dasari.me/2014/09/08/setup-sidekiq-in-production-using-vlad.html</link>
        <guid isPermaLink="true">http://dasari.me/2014/09/08/setup-sidekiq-in-production-using-vlad.html</guid>
        
        
      </item>
    
  </channel>
</rss>
